"use strict";(self.webpackChunkresearch=self.webpackChunkresearch||[]).push([[1699],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>f});var o=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=o.createContext({}),c=function(e){var t=o.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},u=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(r),m=n,f=p["".concat(l,".").concat(m)]||p[m]||d[m]||i;return r?o.createElement(f,a(a({ref:t},u),{},{components:r})):o.createElement(f,a({ref:t},u))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,a=new Array(i);a[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:n,a[1]=s;for(var c=2;c<i;c++)a[c]=r[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,r)}m.displayName="MDXCreateElement"},983:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var o=r(7462),n=(r(7294),r(3905));const i={title:"Account key creation ideas for Polkadot"},a=void 0,s={unversionedId:"Polkadot/security/keys/creation",id:"Polkadot/security/keys/creation",title:"Account key creation ideas for Polkadot",description:"https://forum.web3.foundation/t/account-key-creation-ideas-for-polkadot/68",source:"@site/docs/Polkadot/security/keys/creation.md",sourceDirName:"Polkadot/security/keys",slug:"/Polkadot/security/keys/creation",permalink:"/Polkadot/security/keys/creation",draft:!1,editUrl:"https://github.com/w3f/research/blob/main/docs/docs/Polkadot/security/keys/creation.md",tags:[],version:"current",frontMatter:{title:"Account key creation ideas for Polkadot"},sidebar:"sidebar",previous:{title:"Session keys",permalink:"/Polkadot/security/keys/session"},next:{title:"Slashing mechanisms",permalink:"/Polkadot/security/slashing/amounts"}},l={},c=[],u={toc:c},p="wrapper";function d(e){let{components:t,...r}=e;return(0,n.kt)(p,(0,o.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://forum.web3.foundation/t/account-key-creation-ideas-for-polkadot/68"},"https://forum.web3.foundation/t/account-key-creation-ideas-for-polkadot/68")),(0,n.kt)("p",null,'We found a trick for using Ed25519 "mini" private keys in ',(0,n.kt)("a",{parentName:"p",href:"https://github.com/w3f/schnorr-dalek/blob/master/src/keys.rs"},"schnorr-dalek"),', meaning users\' "mini" private key consists of 32 bytes of unstructured entropy.  '),(0,n.kt)("p",null,"There are no serious problems with ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki"},"BIP39")," so we suggest a similar strategy for deriving secret keys in Polkadot.  We could however modernize BIP39 in a couple small but straightforward ways: "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"Argon2id should replace PBKDF2."),"  Adam Langely sugests ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/golang/crypto/commit/d9133f5469342136e669e85192a26056b587f503"},"using time=2 and 64mb of memopry")," for interactive scenarios like this.  In principle, one might question if this scenario should truly be considered interactive, but conversely one could imagine running this on relatively constrained devices. We might also improve the ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/bryant/argon2rs/issues"},"argone2rs")," crate too, especially to ",(0,n.kt)("a",{parentName:"li",href:"https://crypto.stackexchange.com/a/40000"},"ensure we use at least v1.3 since v1.2.1 got weaker"),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"Rejection sampling to support larger wordlists."),"  We could employ rejection sampling from the initial entropy stream to avoid tying ourselves to the list size being a power of two, as BIP39 seemingly requires.  We can provide roughly the existing error correction from BIP32, even working in a ring of this order."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"Actually provide a larger wordlist."),"  We're discussing enough entropy that users might benefit form using diceware-like word lists with 12.9 bits of entropy per word, as opposed to BIP32's 11 bits of entropy per word.  It's possible some diceware word lists contained confusable words, but reviews exists at least for English.  We might worry that larger wordlists might simply not exist for some languges.  It's also easier to quickly curate shorter lists.")),(0,n.kt)("p",null,"There are also more speculative directions for possible improvements: "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"Improve error correction."),"  Right now BIP39 has only a basic checksum for error correction.  We could design schemes that corrected errors by choosing the words using Reed-Solomon, meaning non-systematic word list creation with code words, except naively this limits our word list sizes to finite field sizes, meaning prime powers.  We would instead likely run Reed-Solomon separately on each prime power divisor of the word list's order.  We should however evaluate alternatives like other ",(0,n.kt)("a",{parentName:"li",href:"https://hal.inria.fr/hal-00670004/file/article.pdf"},"generalisations of Reed-Solomon codes to rings"),", or even working in a field of slightly larger order and reject choices that fall outside the wordlist."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"Support multiple Argon2id configurations."),"  We might conceivably support multiple argon2id configurations, if small device constraints become a serious concern.  We could select among a few argon2id configuration options using yet another output from the Reed-Solomon code.  We'd simply use rejection sampling to choose the user's desired configuration.")))}d.isMDXComponent=!0}}]);